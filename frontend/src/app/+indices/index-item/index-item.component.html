<div class="panel panel-default" [class.short]="view === 'short'">
  <span *ngIf="view === 'short'" class="index-id">{{data.name}}</span>

  <div *ngIf="view !== 'short'" class="dropdown pull-right" [class.open]="dropDownOpen">
    <div class="menu-icon clickable text-muted" (click)="dropDownOpen = !dropDownOpen"></div>
    <ul class="dropdown-menu">
      <li><a (click)="index()">Indexieren</a></li>
      <li><a title="Index löschen" confirmbuttontype="danger" mwlConfirmationPopover
               [title]="'Wirklich löschen?'"
               [message]="'Wollen Sie den Index wirklich löschen?'"
               placement="left"
               confirmText="Löschen"
               cancelText="Abbrechen"
               (confirm)="deleteIndex(data)">Löschen</a></li>
    </ul>
  </div>

  <div class="panel-body">
    <!--<div class="pull-left"><span class="glyphicon glyphicon-off" [class.active]="data.active"></span></div>-->
    <div class="pull-left">
      <div class="index-name" [title]="'Index: ' + data.name">
        {{data.longName}}
        <span *ngIf="data.isConnected" title="Verbunden mit iBus" class="glyphicon glyphicon-link active"></span>
      </div>
      <!--<div *ngIf="!data.hasLinkedComponent">Dieser Index wird von keiner Komponenten referenziert!</div>-->
    </div>
    <div class="index-last-indexed pull-right">{{data.lastIndexed | date:'medium'}}</div>
  </div>

  <ul *ngIf="view !== 'short'" class="list-group">
    <li *ngFor="let type of data.types" class="list-group-item clickable" (click)="showIndexItem(data, type.name)">
      <div class="indexState glyphicon glyphicon-off" [class.active]="type.active" title="Aktiviere/Deaktiviere Indextyp" (click)="activateIndexType(type, $event)"></div>
      <span class="content">{{type.name}}</span>
      <div class="pull-right small">{{type.lastIndexed | date:'medium'}}</div>
      <div *ngIf="data.hasLinkedComponent && !type.hasLinkedComponent" class="text-danger">Nicht referenziert!</div>
    </li>
  </ul>
</div>
